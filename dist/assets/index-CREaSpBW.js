(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();function E(){const e=dayjs().format("DD MMM YYYY, HH:mm:ss");document.getElementById("time_date").innerHTML=e}E();setInterval(E,1e3);document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("toggle_btn"),e=document.getElementById("menu_items"),o=document.getElementById("overlay");function s(){e.classList.add("opensb"),o.classList.add("active"),document.body.style.overflow="hidden"}function n(){e.classList.remove("opensb"),o.classList.remove("active"),document.body.style.overflow=""}t.addEventListener("click",l=>{l.stopPropagation(),e.classList.contains("opensb")?n():s()}),o.addEventListener("click",n),document.addEventListener("keydown",l=>{l.key=="Escape"&&n()})});var p=document.getElementsByClassName("dropdown_btn");for(var m=0;m<p.length;m++)p[m].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.display==="block"?e.style.display="none":e.style.display="block"});let c=document.getElementById("Source"),u=document.getElementById("Destination"),y=document.getElementById("exchange"),B=y.getElementsByTagName("i")[0];y.addEventListener("keydown",function(t){t.key==="Enter"&&t.preventDefault()});y.addEventListener("click",t=>{t.preventDefault();let e=c.value.trim(),o=u.value.trim();if(e===""||!_.includes(e)){alert("Please enter a valid source");return}if(e!==""&&o===""||!L.includes(o)){alert("Please enter a valid destination");return}if(e===o){alert("Source and destination cannot be the same.");return}B.classList.toggle("rotate");let s=c.value;c.value=u.value,u.value=s});const _=["Patna Junction [PNBE]","New Delhi [NDLS]","Howrah Junction [HWH]","Mumbai CST [CSTM]","Chennai Central [MAS]","Secunderabad Junction [SC]","Kanpur Central [CNB]","Ahmedabad Junction [ADI]","KSR BENGALURU [SBC]","Lucknow NR [LKO]"],L=["Patna Junction [PNBE]","New Delhi [NDLS]","Howrah Junction [HWH]","Mumbai CST [CSTM]","Chennai Central [MAS]","Secunderabad Junction [SC]","Kanpur Central [CNB]","Ahmedabad Junction [ADI]","Bangalore City Junction [SBC]","Lucknow NR [LKO]"],a=document.getElementById("suggestions_for_src");let r=-1;c.addEventListener("input",()=>{r=-1,a.innerHTML="";let t=c.value.trim();if(t=t.toLowerCase(),t===""){a.style.display="none";return}const e=_.filter(o=>o.toLowerCase().includes(t));if(e.length===0){a.style.display="none";return}e.forEach(o=>{const s=document.createElement("div");s.textContent=o,s.className="source_suggestion",s.addEventListener("click",()=>{c.value=o,a.style.display="none"}),a.appendChild(s)}),a.style.display="block"});c.addEventListener("keydown",t=>{const e=a.querySelectorAll(".source_suggestion");if(e.length!==0)if(t.key==="ArrowDown")r=(r+1)%e.length,t.preventDefault(),v(e);else if(t.key==="ArrowUp"){if(r===-1)return;r=(r-1)%e.length,t.preventDefault(),v(e)}else t.key==="Enter"?(t.preventDefault(),c.value=e[r].textContent,a.style.display="none"):t.key==="Escape"&&(a.style.display="none",r=-1)});function v(t){t.forEach((e,o)=>{e.classList.toggle("active3",o===r),o===r&&e.scrollIntoView&&e.scrollIntoView({block:"nearest"})})}let d=document.getElementById("suggestions_for_dst"),i=-1;u.addEventListener("input",()=>{d.innerHTML="";let t=u.value.trim();if(t=t.toLowerCase(),t==="")return;i=-1;const e=L.filter(o);if(e.length===0)return;function o(s){if(s===c.value)return 0;if(s=s.toLowerCase(),s.includes(t))return 1}e.forEach(s=>{const n=document.createElement("Div");n.textContent=s,n.className="dst_sugg",n.addEventListener("click",()=>{u.value=s,d.style.display="none"}),d.appendChild(n)}),d.style.display="block"});document.addEventListener("click",t=>{t.target.closest("dst_box")||(d.style.display="none")});document.addEventListener("click",t=>{t.target.closest("Source_box")||(a.style.display="none")});u.addEventListener("keydown",t=>{const e=document.querySelectorAll(".dst_sugg");if(e.length===0)return;if(t.key==="ArrowDown")i=(i+1)%e.length,t.preventDefault(),o(e);else if(t.key==="ArrowUp"){if(i===-1)return;i=(i-1)%e.length,t.preventDefault(),o(e)}else t.key==="Enter"?(u.value=e[i].textContent,i=-1,t.preventDefault(),d.style.display="none"):t.key==="Escape"&&(i=-1,d.style.display="none");function o(s){s.forEach((n,l)=>{n.classList.toggle("active4",l===i),l===i&&n.scrollIntoView&&n.scrollIntoView({block:"nearest"})})}document.addEventListener("click",s=>{s.target.closest("dst_box")||(d.style.display="none")})});flatpickr("#date",{dateFormat:"d/m/Y",defaultDate:"today"});document.getElementById("station_form").addEventListener("submit",t=>{t.preventDefault();const e=document.getElementById("Source").value,o=document.getElementById("Destination").value,s=document.getElementById("Quota").value;if(e==""||o==""){window.alert("Enter Valid Station");return}let n=document.getElementById("date").value;console.log(n);function l(b){let[k,I,D]=b.split("/");return`${D}-${I}-${k}`}n=l(n);const f=encodeURIComponent(e),h=encodeURIComponent(o),w=encodeURIComponent(n),C=encodeURIComponent(s),g=`train_list.html?src=${f}&dst=${h}&date=${w}&quota=${C}`;console.log(g),window.location.href=g});
